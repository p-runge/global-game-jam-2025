import Head from "next/head";
import { Board } from "~/components/board";
import { Card } from "~/components/card";
import { Deck } from "~/components/deck";
import DiscardPile from "~/components/discard-pile";
import { Frame } from "~/components/frame";
import type { TBoard } from "~/types/TBoard";
import type { TCard } from "~/types/TCard";
import { Location } from "~/types/TCard";

export default function Home() {
  const playersHandCards: TCard[] = [
    {
      id: "1",
      location: Location.Hand,
      name: "BubbleCard1",
      opponentsHand: false,
    },
    {
      id: "2",
      location: Location.Hand,
      name: "BubbleCard2",
      opponentsHand: false,
    },
    {
      id: "3",
      location: Location.Hand,
      name: "BubbleCard3",
      opponentsHand: false,
    },
    {
      id: "4",
      location: Location.Hand,
      name: "BubbleCard4",
      opponentsHand: false,
    },
    {
      id: "5",
      location: Location.Hand,
      name: "BubbleCard5",
      opponentsHand: false,
    },
    {
      id: "6",
      location: Location.Hand,
      name: "BubbleCard6",
      opponentsHand: false,
    },
    {
      id: "7",
      location: Location.Hand,
      name: "BubbleCard7",
      opponentsHand: false,
    },
  ];
  const opponentsHandCards: TCard[] = [
    {
      id: "1",
      location: Location.Hand,
      name: "BubbleCard1",
      opponentsHand: false,
    },
    {
      id: "2",
      location: Location.Hand,
      name: "BubbleCard2",
      opponentsHand: false,
    },
    {
      id: "3",
      location: Location.Hand,
      name: "BubbleCard3",
      opponentsHand: false,
    },
    {
      id: "4",
      location: Location.Hand,
      name: "BubbleCard4",
      opponentsHand: false,
    },
    {
      id: "5",
      location: Location.Hand,
      name: "BubbleCard5",
      opponentsHand: false,
    },
    {
      id: "6",
      location: Location.Hand,
      name: "BubbleCard6",
      opponentsHand: false,
    },
    {
      id: "7",
      location: Location.Hand,
      name: "BubbleCard7",
      opponentsHand: false,
    },
  ];
  const opponentBoard: TBoard = {
    name: "opponent",
    isOpponent: true,
  };
  const playerBoard: TBoard = {
    name: "player",
    isOpponent: false,
  };
  return (
    <Frame>
      <Head>
        <title>Create T3 App</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <div className="relative h-full bg-blue-500">
        {/* game board anchor */}
        <div className="absolute left-1/2 top-1/2">
          {/* temp center marker */}
          <div className="absolute z-10 h-4 w-4 -translate-x-1/2 -translate-y-1/2 bg-amber-500"></div>

          {/* opponent */}
          <div className="absolute -top-[305px] left-[550px] -translate-x-1/2">
            <DiscardPile
              discardPile={{
                name: "opponent",
                isOpponent: true,
              }}
            />
          </div>
          <div className="absolute -top-[305px] -translate-x-1/2">
            <Board board={opponentBoard}></Board>
          </div>
          <div className="absolute -left-[550px] -top-[305px] -translate-x-1/2">
            <Deck deck={{ name: "opponent", isOpponent: true }}></Deck>
          </div>

          {/* player */}
          <div className="absolute -bottom-[305px] left-[550px] -translate-x-1/2">
            <Deck deck={{ name: "player", isOpponent: false }}></Deck>
          </div>
          <div className="absolute -bottom-[305px] -translate-x-1/2">
            <Board board={playerBoard}></Board>
          </div>
          <div className="absolute -bottom-[305px] right-[550px] translate-x-1/2">
            <DiscardPile
              discardPile={{
                name: "player",
                isOpponent: false,
              }}
            />
          </div>
        </div>

        {/* hands */}
        <div className="absolute left-1/2 top-0 -translate-x-1/2">
          <div className="pointer-events-none grid grid-cols-7 grid-rows-1">
            {opponentsHandCards.map((card) => (
              <div
                key={card.id}
                className="pointer-events-auto origin-top scale-50"
              >
                <Card card={card}></Card>
              </div>
            ))}
          </div>
        </div>
        <div className="absolute bottom-0 left-1/2 -translate-x-1/2">
          <div className="pointer-events-none grid grid-cols-7 grid-rows-1">
            {playersHandCards.map((card) => (
              <div
                key={card.id}
                className="pointer-events-auto -mx-[45px] origin-bottom scale-50 transition-transform hover:z-10 hover:scale-100"
              >
                <Card card={card}></Card>
              </div>
            ))}
          </div>
        </div>
      </div>
    </Frame>
  );
}
